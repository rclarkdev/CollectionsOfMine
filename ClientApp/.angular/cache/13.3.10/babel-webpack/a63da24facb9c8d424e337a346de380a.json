{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\rclar\\\\source\\\\repos\\\\CollectionsOfMine\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { CommonService } from \"../../services/common.service\";\nlet AttributesComponent = class AttributesComponent {\n  constructor(router, http, activeRoute, dataTableService, modalService) {\n    var _this = this;\n    this.router = router;\n    this.http = http;\n    this.activeRoute = activeRoute;\n    this.dataTableService = dataTableService;\n    this.modalService = modalService;\n    this.viewAttributes = [];\n    this.showTable = true;\n    this.getAttributes = /*#__PURE__*/_asyncToGenerator(function* () {\n      return yield _this.attributesService.getAll();\n    });\n    this.edit = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (content, id) {\n        _this.attributeId = id;\n        _this.open(content);\n      });\n      return function (_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    this.delete = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (id) {\n        if (confirm(\"Are you sure?\")) {\n          yield _this.attributesService.delete(id);\n          location.reload();\n        }\n      });\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    this.uploadFinished = event => {\n      this.response = event;\n    };\n    this.attributesService = new CommonService(\"attributes\", http);\n  }\n  open(content) {\n    this.modalService.open(content).result.then(result => {}, reason => {});\n  }\n  ngOnInit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const that = _this2;\n      _this2.getAttributes().then(function (attributes) {\n        that.attributesService.setTypes(attributes);\n        that.attributesService.typesObservable.subscribe( /*#__PURE__*/function () {\n          var _ref4 = _asyncToGenerator(function* (attributes) {\n            if (that.activeRoute.routeConfig.path === \"attributes\") {\n              that.attributesTitle = \" Attributes\";\n              that.dataTableService.setDtTrigger(attributes);\n              that.attributes.forEach( /*#__PURE__*/function () {\n                var _ref5 = _asyncToGenerator(function* (attribute) {\n                  let viewAttribute = {\n                    Id: attribute[\"id\"],\n                    Name: '<a name=\"attribute\" href=\"/items?attribute=' + attribute[\"name\"] + '\">' + attribute[\"name\"] + \"</a>\",\n                    Description: attribute[\"description\"],\n                    CreatedOn: attribute[\"createdOn\"]\n                  };\n                  that.viewAttributes.push(viewAttribute);\n                });\n                return function (_x5) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n            }\n          });\n          return function (_x4) {\n            return _ref4.apply(this, arguments);\n          };\n        }());\n      });\n    })();\n  }\n};\nAttributesComponent = __decorate([Component({\n  selector: \"app-attributes\",\n  templateUrl: \"./attributes.component.html\",\n  styleUrls: [\"./attributes.component.css\"]\n})], AttributesComponent);\nexport { AttributesComponent };","map":{"version":3,"names":["__decorate","Component","CommonService","AttributesComponent","constructor","router","http","activeRoute","dataTableService","modalService","viewAttributes","showTable","getAttributes","attributesService","getAll","edit","content","id","attributeId","open","delete","confirm","location","reload","uploadFinished","event","response","result","then","reason","ngOnInit","that","attributes","setTypes","typesObservable","subscribe","routeConfig","path","attributesTitle","setDtTrigger","forEach","attribute","viewAttribute","Id","Name","Description","CreatedOn","push","selector","templateUrl","styleUrls"],"sources":["C:/Users/rclar/source/repos/CollectionsOfMine/ClientApp/src/app/attribute/list/attributes.component.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from \"@angular/core\";\r\nimport { CommonService } from \"../../services/common.service\";\r\nlet AttributesComponent = class AttributesComponent {\r\n    constructor(router, http, activeRoute, dataTableService, modalService) {\r\n        this.router = router;\r\n        this.http = http;\r\n        this.activeRoute = activeRoute;\r\n        this.dataTableService = dataTableService;\r\n        this.modalService = modalService;\r\n        this.viewAttributes = [];\r\n        this.showTable = true;\r\n        this.getAttributes = async () => {\r\n            return await this.attributesService.getAll();\r\n        };\r\n        this.edit = async (content, id) => {\r\n            this.attributeId = id;\r\n            this.open(content);\r\n        };\r\n        this.delete = async (id) => {\r\n            if (confirm(\"Are you sure?\")) {\r\n                await this.attributesService.delete(id);\r\n                location.reload();\r\n            }\r\n        };\r\n        this.uploadFinished = (event) => {\r\n            this.response = event;\r\n        };\r\n        this.attributesService = new CommonService(\"attributes\", http);\r\n    }\r\n    open(content) {\r\n        this.modalService.open(content).result.then((result) => { }, (reason) => { });\r\n    }\r\n    async ngOnInit() {\r\n        const that = this;\r\n        this.getAttributes().then(function (attributes) {\r\n            that.attributesService.setTypes(attributes);\r\n            that.attributesService.typesObservable.subscribe(async (attributes) => {\r\n                if (that.activeRoute.routeConfig.path === \"attributes\") {\r\n                    that.attributesTitle = \" Attributes\";\r\n                    that.dataTableService.setDtTrigger(attributes);\r\n                    that.attributes.forEach(async function (attribute) {\r\n                        let viewAttribute = {\r\n                            Id: attribute[\"id\"],\r\n                            Name: '<a name=\"attribute\" href=\"/items?attribute=' +\r\n                                attribute[\"name\"] +\r\n                                '\">' +\r\n                                attribute[\"name\"] +\r\n                                \"</a>\",\r\n                            Description: attribute[\"description\"],\r\n                            CreatedOn: attribute[\"createdOn\"],\r\n                        };\r\n                        that.viewAttributes.push(viewAttribute);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nAttributesComponent = __decorate([\r\n    Component({\r\n        selector: \"app-attributes\",\r\n        templateUrl: \"./attributes.component.html\",\r\n        styleUrls: [\"./attributes.component.css\"],\r\n    })\r\n], AttributesComponent);\r\nexport { AttributesComponent };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}